(window.webpackJsonp=window.webpackJsonp||[]).push([["app"],{"+rBa":function(e,t,n){},"8qAJ":function(e,t,n){"use strict";var r=n("ZjS7");n.n(r).a},"93tE":function(e,t,n){},APfa:function(e,t,n){"use strict";var r=n("93tE");n.n(r).a},Blz7:function(e,t,n){"use strict";var r=n("+rBa");n.n(r).a},LTeM:function(e,t,n){},WUHh:function(e,t,n){"use strict";var r=n("lef6");n.n(r).a},XENs:function(e,t,n){},ZjS7:function(e,t,n){},gWir:function(e,t,n){"use strict";var r=n("nikA");n.n(r).a},hU3j:function(e,t,n){},iLVz:function(e,t,n){"use strict";var r=n("hU3j");n.n(r).a},lef6:function(e,t,n){},ng4s:function(e,t,n){"use strict";n.r(t);var r=n("oCYn"),a=n("jE9Z"),s=function(){var e=this.$createElement;return(this._self._c||e)("div")};s._withStripped=!0;var o={name:"Home"},i=n("KHd+"),c=Object(i.a)(o,s,[],!1,null,"4cc51100",null);c.options.__file="assets/js/components/Home.vue";var d=c.exports,l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",{attrs:{justify:"center"}},[n("v-card",{staticClass:"mxauto mt-10",attrs:{width:"90%"}},[n("v-app-bar",{attrs:{dark:"",color:"teal darken-1"}},[n("v-toolbar-title",[e._v(e._s(e.dateForUser))]),e._v(" "),n("v-spacer"),e._v(" "),n("router-link",{attrs:{to:{name:"orders#create"},tag:"button"}},[n("v-btn",{attrs:{text:""}},[e._v("\n                        Заказать  "),n("v-icon",[e._v("fa-plus")])],1)],1)],1),e._v(" "),e._l(e.dishes,(function(t,r){return n("dish-teaser",{key:r,attrs:{dish:t,index:r},on:{"edit-dish":function(t){return e.editDish(r)}}})})),e._v(" "),n("v-card-actions",[n("v-btn",{attrs:{color:"teal darken-2"},on:{click:function(t){return e.goBack()}}},[n("v-icon",[e._v("fa-angle-left")]),e._v("  \n                    "),n("span",[e._v(" Назад")])],1),e._v(" "),n("v-btn",{attrs:{color:"green accent-4"},on:{click:function(t){return e.addDish()}}},[e._v("Новое Блюдо  \n                    "),n("v-icon",[e._v("fa-plus")])],1)],1)],2)],1),e._v(" "),e.dishForEditing?[n("dish-edit",{attrs:{menu_id:e.menu_id,dish:e.dishForEditing,index:e.dishIndex},on:{"delete-dish":function(t){return e.deleteDish(e.dishIndex)},"cancel-editing":function(t){return e.cancelEditing(e.dishIndex)},"reset-dish-index":e.resetDishIndex}})]:e._e()],2)};l._withStripped=!0;n("pNMO"),n("TeQF"),n("QWBl"),n("pDQq"),n("HRxU"),n("eoL8"),n("5DmW"),n("27RR"),n("tkto"),n("FZtP");var u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"alex-row"},[n("div",[e._v(e._s(e.dish.title))]),e._v(" "),n("div",{staticClass:"alex-row-end"},[e._v(e._s(e.dish.price)+" грн.\n        "),n("v-icon",{on:{click:function(t){return e.editDish()}}},[e._v("fa-edit")])],1)])};u._withStripped=!0;var v={name:"DishTeaser",props:["dish","index"],data:function(){return{}},computed:{},methods:{editDish:function(){this.$emit("edit-dish",this.index)}}},h=(n("gWir"),Object(i.a)(v,u,[],!1,null,"1e920ece",null));h.options.__file="assets/js/components/dish/DishTeaser.vue";var f=h.exports,m=n("L2JU"),p=n("ubkq"),_=n.n(p);_.a.i18n={dayNames:["Вс","Пн","Вт","Ср","Чт","Пт","Сб","Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],monthNames:["Янв","Февр","Март","Апр","Мая","Июн","Июл","Авг","Сент","Окт","Нояб","Дек","Января","Февраля","Марта","Апреля","Мая","Июня","Июля","Августа","Сентября","Октября","Ноября","Декабря"],timeNames:["a","p","am","pm","A","P","AM","PM"]};var g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{"max-width":"400"},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[n("v-card",[n("v-card-title"),e._v(" "),n("v-card-text",{staticClass:"text--primary"},[e.dish?n("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-select",{attrs:{items:e.types,label:"Тип блюда",solo:"",rules:e.typeRule},model:{value:e.dish.type,callback:function(t){e.$set(e.dish,"type",t)},expression:"dish.type"}}),e._v(" "),n("v-text-field",{attrs:{label:"Название блюда",rules:e.titleRule,"hide-details":"auto"},model:{value:e.dish.title,callback:function(t){e.$set(e.dish,"title",t)},expression:"dish.title"}}),e._v(" "),n("v-text-field",{staticClass:"inputNumber",attrs:{type:"number",label:"Вес (грамм)",rules:e.weightRule},model:{value:e.dish.weight,callback:function(t){e.$set(e.dish,"weight",t)},expression:"dish.weight"}}),e._v(" "),n("v-text-field",{staticClass:"inputNumber",attrs:{type:"number",label:"Соимость",rules:e.titleRule},model:{value:e.dish.price,callback:function(t){e.$set(e.dish,"price",t)},expression:"dish.price"}}),e._v(" "),n("v-card-actions",[e.ifNew?e._e():n("v-btn",{attrs:{text:"",color:"red"},on:{click:function(t){return e.deleteDish()}}},[e._v("Удалить")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"orange darken-2"},on:{click:function(t){return e.cancelEditing()}}},[e._v("Отменить")]),e._v(" "),n("v-btn",{attrs:{color:"green darken-2"},on:{click:function(t){return e.submit()}}},[e._v("Сохранить")])],1)],1):e._e()],1)],1)],1)};g._withStripped=!0;var b={name:"DishEdit",props:["menu_id","dish","index"],data:function(){return{showModal:!1,valid:!1,types:[{text:"Первое",value:"1first"},{text:"Гарнир",value:"2garnir"},{text:"Мясо",value:"3meat"},{text:"Комплексное",value:"4complex"},{text:"Салат",value:"5salad"},{text:"Дессерт",value:"6desert"}],titleRule:[function(e){return!!e||"Обязательное поле."}],weightRule:[function(e){return!!e||"Обязательное поле."}],costRule:[function(e){return!!e||"Обязательное поле."}],typeRule:[function(e){return!!e||"Обязательное поле."}]}},computed:{ifNew:function(){return!this.dish.hasOwnProperty("dish_id")}},methods:{createDish:function(){var e=this,t=this.dish;t.menu_id=this.menu_id,this.$store.dispatch("dish/createDish",t).then((function(t){200===t.status&&(console.log("НУЖНО ЗАПИСАТЬ СООБЩЕНИЕ ОБ УСПЕХЕ"),e.$set(e.dish,"dish_id",t.data),e.$emit("reset-dish-index"))})).catch((function(e){console.log(e)}))},updateDish:function(){var e=this;console.log("UPDATE THIS DISH"),this.$store.dispatch("dish/updateDish",this.dish).then((function(t){console.log(t),e.$emit("reset-dish-index")})).catch((function(e){alert("Не сохранилось. Ошибка ответа сервера"),console.log(e)}))},deleteDish:function(){this.$store.dispatch("dish/deleteDish",this.dish.dish_id).then(this.$emit("delete-dish"))},submit:function(){this.validate(),console.log("ЗАПУСТИЛИ ВАЛИДАЦИЮ"),console.log(this.valid),this.valid&&(this.ifNew?this.createDish():this.updateDish())},cancelEditing:function(){this.ifNew?this.$emit("delete-dish",this.index):this.$emit("reset-dish-index")},validate:function(){this.$refs.form.validate()}},beforeMount:function(){this.showModal=!0},updated:function(){this.showModal=!0}},y=Object(i.a)(b,g,[],!1,null,"4d15e1f0",null);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}y.options.__file="assets/js/components/dish/DishEdit.vue";var k={name:"Menu",components:{DishTeaser:f,DishEdit:y.exports},data:function(){return{status:!1,menu_id:!1,dishIndex:null}},computed:w(w({},Object(m.b)("menu",{menu:"getMenu"})),{},{dishes:function(){var e;return null!==(e=this.menu.dishes)&&void 0!==e?e:[]},dishForEditing:function(){return null!==this.dishIndex?this.dishes[this.dishIndex]:null},isDishes:function(){return this.dishes.length},dateForUser:function(){return _()(this.menu.date,"dddd, d mmmm")}}),methods:{addDish:function(){var e=this;console.log("ADD DISHE"),this.$store.dispatch("menu/addEmptyDishToMenu").then((function(t){e.dishIndex=t}))},deleteDish:function(e){console.log(e),this.dishes.splice(e,1),this.dishIndex=null},editDish:function(e){console.log(e),console.log("edit work in MENU PARENT COMPONENT"),this.dishIndex=e},cancelEditing:function(e){this.dishIndex=null,e.remove&&this.dishes.splice(e.index,1)},resetDishIndex:function(){this.dishIndex=null},goBack:function(){this.$router.go(-1)}},watch:{},beforeRouteEnter:function(e,t,n){n((function(t){var n=e.params;n.id||t.$store.dispatch("menu/getMenuIdByDate",n.date).then((function(e){n.id=e})).catch((function(e){console.log(e)})),console.log(n),n.hasOwnProperty("id"),t.$store.dispatch("menu/loadDishesIntoMenuByDate",{date:n.date,menu_id:n.id}),t.menu_id=n.id}))}},j=(n("rvip"),Object(i.a)(k,l,[],!1,null,"b0999b1c",null));j.options.__file="assets/js/pages/Menu.vue";var x=j.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{staticClass:"text-center"},[n("v-row",{attrs:{justify:"center"}},[n("v-col",{staticClass:"shrink"},[n("v-btn",{on:{click:function(t){return e.generateDateWithShift(-1)}}},[n("v-icon",[e._v("fa-caret-left")])],1)],1),e._v(" "),n("v-col",{staticClass:"now-week"},[n("v-btn",{on:{click:function(t){return e.generateDateWithShift(0)}}},[e._v("ТЕКУЩАЯ НЕДЕЛЯ")])],1),e._v(" "),n("v-col",{staticClass:"shrink"},[n("v-btn",{on:{click:function(t){return e.generateDateWithShift(1)}}},[n("v-icon",[e._v("fa-caret-right")])],1)],1)],1),e._v(" "),n("v-row",{attrs:{justify:"center"}},e._l(e.menusFromAPI,(function(t){return t?n("menu-list",{key:t.menu_id,attrs:{date:t.date,"menu-id":t.menu_id,dishes:t.dishes}}):e._e()})),1)],1)};C._withStripped=!0;n("DQNa");var P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"mxauto mt-10",attrs:{width:"90%"}},[n("v-app-bar",{attrs:{dark:"",color:e.toolbarColor}},[n("v-toolbar-title",[e._v(e._s(e.dateForUser))]),e._v(" "),n("v-spacer"),e._v(" "),n("router-link",{attrs:{to:{name:"menu",params:{id:e.menuId,date:e.date}},tag:"button"}},[n("v-icon",[e._v("fa-edit")])],1)],1),e._v(" "),e._l(e.dishes,(function(t){return n("v-card-text",{key:t.dish_id,staticClass:"body-1 text-between"},[n("span",{staticClass:"left"},[e._v(e._s(t.title))]),n("span",{staticClass:"right"},[n("b",[e._v(e._s(t.price))]),e._v("грн.")])])}))],2)};P._withStripped=!0;var M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"mxauto mt-10",attrs:{width:"90%"}},[n("v-app-bar",{attrs:{dark:"",color:"#385F73"}},[n("v-toolbar-title",[e._v(e._s(e.dateObj.stringDate)+" "+e._s(e.dateObj.month))]),e._v(" "),n("v-spacer"),e._v(" "),e.menuId?n("router-link",{attrs:{to:{name:"menu",params:{id:e.menuId}},tag:"button"}},[n("v-icon",[e._v("fa-edit")])],1):n("v-btn",{attrs:{fab:"",small:"",outlined:"",loading:e.loading,disabled:e.loading},on:{click:function(t){return e.addEmptyMenuToDatabase()}}},[n("v-icon",[e._v("fa-plus")])],1)],1),e._v(" "),e.menuId?n("v-container"):e._e()],1)};M._withStripped=!0;n("R5XZ");var E=n("vDqi"),S=n.n(E),I={name:"MenuTeaser",props:["menuId","date","dishes"],data:function(){return{menuId:!1,dishes:[],loader:null,loading:!1}},computed:{menu:function(){}},methods:{addEmptyMenuToDatabase:function(){this.loader="loading"}},mounted:function(){},watch:{loader:function(){var e=this,t=this.loader;this[t]=!this[t],setTimeout((function(){return e[t]=!1}),3e3),this.loader=null},menu:function(){console.log("menu was updayed")}}},T=Object(i.a)(I,M,[],!1,null,"6f788c24",null);T.options.__file="assets/js/components/menu/MenuTeaser.vue";var $={name:"MenuList",props:["menuId","date","dishes"],components:{MenuTeaser:T.exports},data:function(){return{}},computed:{dateForUser:function(){return _()(this.date,"ddd, d mmmm")},toolbarColor:function(){var e=Object.keys(this.dishes).length;switch(e){case 0:return"red darken-3";case 1:case 2:case 3:return"teal darken-"+(e-1);default:return"green darken-2"}},test:function(){return Object.keys(this.dishes)}},beforeRouteLeave:function(e,t,n){window.confirm("Вы хотите уйти? У вас есть несохранённые изменения!")?n():n(!1)}},F=(n("Blz7"),Object(i.a)($,P,[],!1,null,"f6e24a88",null));function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}F.options.__file="assets/js/components/menu/MenuList.vue";var W={name:"Week",components:{"menu-list":F.exports},data:function(){return{shift:0}},computed:A(A({},Object(m.b)("menu",{menusFromAPI:"getMenus",selectedDate:"getSelectedDate"})),{},{dateForAPI:function(){return _()(this.selectedDate,"yyyy-mm-dd")},dateForUser:function(){return _()(this.selectedDate,"d mmmm")}}),methods:{generateDateWithShift:function(e){this.shift=0===e?0:this.shift+e;var t=function(e){return Date.prototype.addDays=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t},(new Date).addDays(e)}(7*this.shift);this.$store.commit("menu/setSelectedDate",t),this.loadMenuTable()},loadMenuTable:function(){this.$store.dispatch("menu/loadMenuTable",this.dateForAPI)}},created:function(){},mounted:function(){},beforeRouteEnter:function(e,t,n){n((function(e){e.loadMenuTable()}))}},U=(n("iLVz"),Object(i.a)(W,C,[],!1,null,"b2d32af2",null));U.options.__file="assets/js/pages/Week.vue";var N=U.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("dates-bar",{attrs:{title:"Список блюд на:"},on:{"date-bar":e.dateChanged}}),e._v(" "),n("v-divider",{staticClass:"pa-5"}),e._v(" "),"week"!==e.calendarMode?[n("dishes-table",{attrs:{dishes:e.dishes,date:e.date}})]:e._l(e.dishesWeek,(function(e){return[n("dishes-table",{attrs:{dishes:e.dishes,date:e.date}})]}))],2)};H._withStripped=!0;n("rMz7");var G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-sheet",{attrs:{height:"600",width:"100%"}},[n("v-calendar",{ref:"calendar",attrs:{weekdays:e.weekday,type:e.type,events:e.events,"event-overlap-mode":e.mode,"event-overlap-threshold":30,"event-color":e.getEventColor},on:{change:e.getEvents},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1)};G._withStripped=!0;n("ma9I");var L={name:"Calendar",data:function(){return{type:"day",types:["month","week"],mode:"column",weekday:[1,2,3,4,5],value:"",events:[],colors:["blue","indigo","deep-purple","cyan","green","orange","grey darken-1"],names:["Meeting","Holiday","PTO","Travel","Event","Birthday","Conference","Party"]}},methods:{getEvents:function(e){for(var t=e.start,n=e.end,r=[],a=new Date("".concat(t.date,"T00:00:00")),s=new Date("".concat(n.date,"T23:59:59")),o=(s.getTime()-a.getTime())/864e5,i=this.rnd(o,o+20),c=0;c<i;c++){var d=0===this.rnd(0,3),l=this.rnd(a.getTime(),s.getTime()),u=new Date(l-l%9e5),v=9e5*this.rnd(2,d?288:8),h=new Date(u.getTime()+v);r.push({name:this.names[this.rnd(0,this.names.length-1)],start:this.formatDate(u,!d),end:this.formatDate(h,!d),color:this.colors[this.rnd(0,this.colors.length-1)]})}this.events=r},getEventColor:function(e){return e.color},rnd:function(e,t){return Math.floor((t-e+1)*Math.random())+e},formatDate:function(e,t){return t?"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate()," ").concat(e.getHours(),":").concat(e.getMinutes()):"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate())}}},z=Object(i.a)(L,G,[],!1,null,"8e73c82e",null);z.options.__file="assets/js/components/dates/Calendar.vue";var K=z.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isDishes?n("v-card-title",{staticClass:"headline"},[e._v(e._s(e.dateForUser))]):e._e(),e._v(" "),e.isDishes?n("v-data-table",{staticClass:"elevation-1 mb-5",attrs:{"disable-pagination":"","disable-sort":"","disable-filtering":"","hide-default-footer":"",headers:e.headers,items:e.dishes,locale:"ru"}}):n("v-alert",{staticClass:"subtitle-1",attrs:{type:"warning"}},[e._v("На "),n("span",{staticClass:"title"},[e._v(e._s(e.dateForUser))]),e._v(" заказов нет")])],1)};J._withStripped=!0;var Z={name:"DishesTable",props:["dishes","date"],data:function(){return{headers:[{text:"Название",value:"title"},{text:"Кол-во",value:"cnt"}]}},computed:{isDishes:function(){return this.dishes.length>0},dateForUser:function(){return _()(this.date,"dddd, dd mmm")}}},q=Object(i.a)(Z,J,[],!1,null,"2bc183ea",null);q.options.__file="assets/js/components/kitchen/DishesTable.vue";var Q=q.exports,X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-row",{attrs:{align:"center"}},[n("v-col",{staticClass:"grow headline"},[e._v(e._s(e.title))]),e._v(" "),n("v-col",{staticClass:"shrink"},[n("v-btn-toggle",{attrs:{borderless:"",mandatory:"",color:"teal"},model:{value:e.calendarMode,callback:function(t){e.calendarMode=t},expression:"calendarMode"}},[n("v-btn",{attrs:{value:"today",large:""},on:{click:function(t){return e.setToday()}}},[e._v("На Сегодня")]),e._v(" "),n("v-btn",{attrs:{value:"week",large:""},on:{click:function(t){return e.setWeek()}}},[e._v("На Неделю")]),e._v(" "),n("v-btn",{attrs:{value:"day",large:""},on:{click:function(t){e.calendar=!0}}},[e._v(e._s(e.dateForUser)+"  "),n("v-icon",[e._v("fa-edit")])],1)],1)],1)],1),e._v(" "),"week"===e.calendarMode?n("v-row",[n("v-col",{staticClass:"shrink"},[n("v-btn",{attrs:{text:"",color:"teal"},on:{click:function(t){return e.prevWeek()}}},[n("v-icon",[e._v("fa-caret-left")])],1)],1),e._v(" "),n("v-col",{staticClass:"grow text-center"},[e._v(e._s(e.weekStartUser)+" - "+e._s(e.weekEndUser))]),e._v(" "),n("v-col",{staticClass:"shrink"},[n("v-btn",{on:{click:function(t){return e.nextWeek()}}},[n("v-icon",[e._v("fa-caret-right")])],1)],1)],1):e._e(),e._v(" "),n("v-dialog",{attrs:{"max-width":"290"},model:{value:e.calendar,callback:function(t){e.calendar=t},expression:"calendar"}},[n("v-date-picker",{attrs:{locale:"ru","first-day-of-week":"1",width:"290",color:"teal"},on:{change:function(t){return e.changeDate()}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1)};X._withStripped=!0;var Y={name:"DatesBar",props:["title","defaultMode","isGlobalDate"],data:function(){return{localDate:(new Date).toISOString().substr(0,10),calendar:!1,calendarMode:"day"}},computed:{date:{get:function(){return this.isGlobalDate&&this.globalDate?this.globalDate:this.localDate},set:function(e){this.localDate=e,this.isGlobalDate&&this.$store.commit("setGlobalDate",e)}},globalDate:function(){return this.$store.getters.getGlobalDate},dateForUser:function(){return _()(this.date,"dd mmm")},weekStart:function(){return(e=new Date(this.date),t=(e=new Date(e)).getDay(),n=e.getDate()-t+(0===t?-6:1),new Date(e.setDate(n))).toISOString().substr(0,10);var e,t,n},weekEnd:function(){var e=new Date(this.weekStart);return new Date(e.setTime(e.getTime()+3456e5)).toISOString().substr(0,10)},weekStartUser:function(){return _()(this.weekStart,"dd mmm")},weekEndUser:function(){return _()(this.weekEnd,"dd mmm")}},methods:{setToday:function(){this.date=(new Date).toISOString().substr(0,10),this.$emit("date-bar",{date:this.date,mode:"day"})},setWeek:function(){this.date=(new Date).toISOString().substr(0,10),this.$emit("date-bar",{date:this.date,mode:"week"})},changeDate:function(){this.calendar=!1,this.$emit("date-bar",{date:this.date,mode:"day"})},nextWeek:function(){var e=new Date(this.date);this.date=new Date(e.setTime(e.getTime()+6048e5)).toISOString().substr(0,10),this.$emit("date-bar",{date:this.date,mode:"week"})},prevWeek:function(){var e=new Date(this.date);this.date=new Date(e.setTime(e.getTime()-6048e5)).toISOString().substr(0,10),this.$emit("date-bar",{date:this.date,mode:"week"})}},mounted:function(){},watch:{weekStart:function(){console.log("WEEK START CHANGED")}}},V=Object(i.a)(Y,X,[],!1,null,"63954bf9",null);V.options.__file="assets/js/components/dates/DatesBar.vue";var ee=V.exports;function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ae={name:"Kitchen",components:{Calendar:K,DishesTable:Q,DatesBar:ee},data:function(){return{date:(new Date).toISOString().substr(0,10),calendarMode:"day"}},computed:ne(ne({},Object(m.b)("reducer",{dishes:"getDishes",dishesWeek:"getDishesWeek"})),{},{dateForAPI:function(){return _()(this.date,"yyyy-mm-dd")},dateForUser:function(){return _()(this.date,"ddd, dd mmm")},activeDateButton:function(){return this.dateToggle},isDishes:function(){return this.dishes.length>0},weekStart:function(){var e=this.dishesWeek[0]?this.dishesWeek[0].date:null;return _()(e,"dd mmm")},weekEnd:function(){var e=this.dishesWeek[0]?this.dishesWeek[4].date:null;return _()(e,"dd mmm")}}),methods:{dateChanged:function(e){console.log("EMIT CATHED",e),this.date=e.date,this.calendarMode=e.mode,"day"===this.calendarMode?this.$store.dispatch("reducer/loadDishesByDate",this.dateForAPI):this.$store.dispatch("reducer/loadDishesByWeek",this.dateForAPI)}},beforeRouteEnter:function(e,t,n){n((function(e){e.$store.dispatch("reducer/loadDishesByDate",e.dateForAPI)}))}},se=(n("8qAJ"),Object(i.a)(ae,H,[],!1,null,"202a6061",null));se.options.__file="assets/js/pages/Kitchen.vue";var oe=se.exports,ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",[n("v-col",[e._v("Заказы на "+e._s(e.dateForUser))])],1),e._v(" "),n("v-simple-table",[n("thead",[n("tr",[n("th",[e._v("Компания")]),e._v(" "),n("th",[e._v("Заказов")]),e._v(" "),n("th")])]),e._v(" "),n("tbody",e._l(e.orders,(function(t){return n("tr",[n("td",[e._v(e._s(t.title))]),e._v(" "),n("td",{staticClass:"title"},[e._v(e._s(t.cnt))]),e._v(" "),n("td",[n("v-btn",{attrs:{text:"",color:"teal"}},[n("router-link",{attrs:{tag:"span",to:{name:"delivery#by_company",params:{company:t.company_id}}}},[e._v("\n                        Заказы\n                    ")])],1)],1)])})),0)])],1)};function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ie._withStripped=!0;var ue={name:"Delivery",data:function(){return{date:(new Date).toISOString().substr(0,10)}},computed:de(de({},Object(m.b)("delivery",{orders:"getAllOrdersByDay"})),{},{dateForUser:function(){return _()(this.date,"dddd, dd mmm")},dateForAPI:function(){return _()(this.date,"yyyy-mm-dd")}}),beforeRouteEnter:function(e,t,n){n((function(e){e.$store.dispatch("delivery/loadAllOrdersByDay",e.dateForAPI)}))}},ve=Object(i.a)(ue,ie,[],!1,null,"27b31df2",null);ve.options.__file="assets/js/pages/Delivery.vue";var he=ve.exports,fe=function(){var e=this.$createElement;return(this._self._c||e)("div")};fe._withStripped=!0;var me={name:"Money"},pe=Object(i.a)(me,fe,[],!1,null,"463180bd",null);pe.options.__file="assets/js/pages/Money.vue";var _e=pe.exports,ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("dates-bar",{attrs:{title:"Список заказов на:",isGlobalDate:!0},on:{"date-bar":e.dateChanged}}),e._v(" "),n("v-divider",{staticClass:"pa-5"}),e._v(" "),e._l(e.ordersWeek,(function(t){return"week"===e.calendarMode?[n("orders-table",{attrs:{date:t.date,"compact-mode":e.compactMode,orders:t.orders}})]:e._e()})),e._v(" "),"week"!==e.calendarMode?[n("orders-table",{attrs:{date:e.date,"compact-mode":e.compactMode,orders:e.orders}})]:e._e(),e._v(" "),n("v-switch",{staticClass:"mx-4",attrs:{label:"Компактный режим"},model:{value:e.compactMode,callback:function(t){e.compactMode=t},expression:"compactMode"}}),e._v(" "),n("v-btn",{attrs:{color:"orange",large:""}},[n("router-link",{attrs:{tag:"span",to:{name:"orders#create"}}},[e._v("Создать  "),n("v-icon",[e._v("fa-plus")])],1)],1)],2)};ge._withStripped=!0;var be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{justify:"center"}},[n("v-row",{staticClass:"space-between"},[n("v-col",{staticClass:"grow headline"},[e._v("Новый заказ\n            "),e.totalSum?n("span",[e._v(e._s(e.totalSum)+"грн.")]):n("span",[e._v("Поехали? :)")])]),e._v(" "),n("v-col",{staticClass:"shrink"},[e.company?e._e():n("v-btn",{attrs:{large:"",color:"red"},on:{click:function(t){e.showChooseCompany=!0}}},[e._v("Выбрать компанию")]),e._v(" "),e.company?n("v-btn",{attrs:{large:"",color:"green darken-4"}},[e._v(e._s(e.company.title)+"\n                "),n("v-icon",{on:{click:function(t){e.companyIndex=!1}}},[e._v("fa-edit")])],1):e._e()],1),e._v(" "),n("v-col",{staticClass:"shrink"},[n("v-btn",{attrs:{color:"teal",large:""},on:{click:function(t){e.calendar=!0}}},[e._v(e._s(e.dateForUser)+"  \n                "),n("v-icon",[e._v("fa-edit")])],1)],1)],1),e._v(" "),n("v-divider"),e._v(" "),n("v-row",[n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-card",{staticClass:"mxauto mt-5 mb-5",attrs:{width:"100%"}},[n("v-app-bar",{attrs:{dark:"",color:"teal darken-1"}},[n("span",[e._v("В Меню на ")]),e._v(" "),n("v-spacer"),e._v(" "),n("span",{staticClass:"title"},[e._v(e._s(e.dateForUser))])],1),e._v(" "),e._l(e.menu.dishes,(function(t,r){return n("div",{key:r,staticClass:"alex-row"},[n("div",[e._v(e._s(t.title)+" "+e._s(t.price)+"грн. "+e._s(t.dish_id))]),e._v(" "),n("div",{staticClass:"alex-row-end"},[n("v-icon",{attrs:{color:"green "},on:{click:function(n){return e.minToOrdered(t.dish_id)}}},[e._v("fa-minus")]),e._v("\n                           \n                        "),n("v-icon",{attrs:{color:"red darken-2"},on:{click:function(t){return e.addToOrdered(r)}}},[e._v("fa-plus")])],1)])}))],2)],1),e._v(" "),e.orderTable?n("v-col",{attrs:{cols:"12",md:"6"}},[n("div",{staticClass:"mxauto mt-5 mb-5"},[e.orderTable?n("v-data-table",{staticClass:"elevation-1",attrs:{"disable-pagination":"","disable-sort":"","disable-filtering":"","hide-default-footer":"",headers:e.headers,items:e.normalizeOrders,locale:"ru"}}):e._e(),e._v(" "),e.message?n("v-alert",{staticClass:"mt-3",attrs:{light:""}},[e._v(e._s(e.message))]):e._e()],1),e._v(" "),n("v-row",{attrs:{justify:"space-between"}},[n("v-col",{staticClass:"grow title text-right"},[e._v("Полная стоимость: "+e._s(e.totalSum)+" грн.")])],1)],1):e._e()],1),e._v(" "),n("v-divider"),e._v(" "),n("v-row",{attrs:{justify:"space-between"}},[n("v-col",{staticClass:"grow title"},[e._v("Со скидой: "+e._s(e.totalSum)+" грн.")]),e._v(" "),n("v-col",{staticClass:"shrink"},[n("v-btn",{attrs:{color:"blue",large:""},on:{click:function(t){e.showMessage=!0}}},[e._v("Сообщение")])],1),e._v(" "),n("v-col",{staticClass:"shrink"},[n("v-btn",{attrs:{color:"orange",large:""},on:{click:function(t){return e.createOrder()}}},[e._v("Заказать")])],1)],1),e._v(" "),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.showMessage,callback:function(t){e.showMessage=t},expression:"showMessage"}},[n("v-card",[n("v-card-title",[e._v("\n                Добавьте свои пожелания\n            ")]),e._v(" "),n("v-card-text",[n("v-textarea",{attrs:{solo:""},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1),e._v(" "),n("v-card-actions",[n("v-btn",{attrs:{color:"orange"},on:{click:function(t){return e.clearMessage()}}},[e._v("Отменить")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"teal"},on:{click:function(t){e.showMessage=!1}}},[e._v("Добавить сообщение")])],1)],1)],1),e._v(" "),n("v-dialog",{attrs:{"max-width":"290"},model:{value:e.calendar,callback:function(t){e.calendar=t},expression:"calendar"}},[n("v-date-picker",{attrs:{locale:"ru","first-day-of-week":"1",width:"290",color:"teal"},on:{change:function(t){return e.changeDate()}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),e._v(" "),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.orderSuccess,callback:function(t){e.orderSuccess=t},expression:"orderSuccess"}},[n("v-card",[n("v-app-bar",{attrs:{dark:"",color:"teal"}},[n("v-toolbar-title",[e._v("Приятного апетита !!!")])],1),e._v(" "),n("v-container",[n("v-card-text",{staticClass:"title"},[e._v("\n                    Ваш заказ №"+e._s(e.orderID)+" успешно оформлен\n                ")])],1),e._v(" "),n("v-card-actions",[n("v-btn",{attrs:{color:"orange darken-2"},on:{click:function(t){e.orderSuccess=!1}}},[e._v("Закрыть")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"green darken-2"}},[n("router-link",{attrs:{tag:"span",to:{name:"orders#read",params:{id:e.orderID}}}},[e._v("Посмотреть\n                    ")])],1)],1)],1)],1),e._v(" "),n("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:e.showChooseCompany,callback:function(t){e.showChooseCompany=t},expression:"showChooseCompany"}},[n("v-card",e._l(e.companies,(function(t,r){return n("div",{key:t.company_id,staticClass:"alex-row"},[n("v-btn",{attrs:{text:""},on:{click:function(t){return e.chooseCompany(r)}}},[e._v(e._s(t.title))])],1)})),0)],1)],1)};be._withStripped=!0;n("x0AG"),n("2B1R"),n("E9XD"),n("B6y2");var ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};return e.forEach((function(e){var n=e.dish_id;t.hasOwnProperty(n)?(t[n].cnt++,t[n].summ=t[n].summ+t[n].price):t[n]={title:e.title,price:e.price,summ:e.price,cnt:1}})),Object.values(t)};function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){De(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ke={name:"OrderCreate",props:[],data:function(){return{date:(new Date).toISOString().substr(0,10),calendar:!1,orderID:!1,orderSuccess:!1,orderedDishes:[],showChooseCompany:!0,companyIndex:!1,showMessage:!1,message:"",headers:[{text:"Название",value:"title"},{text:"Цена",value:"price"},{text:"Кол-во",value:"cnt"},{text:"Сумма",value:"summ"}]}},computed:we(we(we({},Object(m.b)("menu",{menu:"getMenu"})),Object(m.b)("company",{companies:"getCompanies"})),{},{dateForAPI:function(){return _()(this.date,"yyyy-mm-dd")},dateForUser:function(){return _()(this.date,"dddd, dd mmm")},normalizeOrders:function(){return ye(this.orderedDishes)},orderTable:function(){return this.normalizeOrders.length>0},totalSum:function(){return this.normalizeOrders.reduce((function(e,t){return e+t.summ}),0)},company:function(){return this.companies[this.companyIndex]},order:function(){var e=!!this.company&&this.company.company_id;return{total:this.totalSum,status:"new",dishes:this.dishes,menu_id:this.menu.menu_id,company_id:e}},dishes:function(){return this.orderedDishes.map((function(e){return e.dish_id}))}}),methods:{addToOrdered:function(e){this.orderedDishes.push(this.menu.dishes[e])},minToOrdered:function(e){var t=this.orderedDishes.findIndex((function(t){return t.dish_id===e}));-1!==t&&this.orderedDishes.splice(t,1)},loadMenu:function(){this.$store.dispatch("menu/loadMenuByDate",this.dateForAPI)},changeDate:function(){console.log("changeDate  WORKING"),this.calendar=!1},createOrder:function(){var e=this;if(this.orderedDishes.map((function(e){return e.dish_id})).length<1)return alert("Вы не выбрали ни одного блюда!"),!1;this.$store.dispatch("order/createOrder",this.order).then((function(t){console.log(t),e.orderID=t,e.orderSuccess=!0,e.orderedDishes=[]}))},chooseCompany:function(e){this.companyIndex=e,this.showChooseCompany=!1},clearMessage:function(){this.message="",this.showMessage=!1}},watch:{date:function(){this.orderedDishes=[],this.loadMenu()}},beforeRouteEnter:function(e,t,n){n((function(e){e.loadMenu(),e.$store.dispatch("company/loadCompanies")}))}},je=(n("APfa"),Object(i.a)(ke,be,[],!1,null,"726cb750",null));je.options.__file="assets/js/components/order/OrderCreate.vue";var xe=je.exports,Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isOrders?n("v-card-title",{staticClass:"headline"},[e._v(e._s(e.dateForUser))]):e._e(),e._v(" "),e.isOrders?n("v-data-table",{staticClass:"elevation-1 orders mb-5",attrs:{"item-key":"alexKey",dense:e.compactMode,headers:e.headers,items:e.orders,locale:"ru","disable-pagination":"","hide-default-footer":""},on:{"click:row":e.routeToOrder}}):e._e(),e._v(" "),e.isOrders?e._e():n("v-alert",{staticClass:"subtitle-1",attrs:{type:"warning"}},[e._v("На "),n("span",{staticClass:"title"},[e._v(e._s(e.dateForUser))]),e._v("\n        заказов нет\n    ")])],1)};Ce._withStripped=!0;var Pe={name:"OrdersTable",props:["orders","date","compactMode"],data:function(){return{headers:[{text:"ID",value:"id"},{text:"Company",value:"title"},{text:"Статус",value:"status"},{text:"Сумма",value:"total"}]}},computed:{isOrders:function(){return this.orders.length>0},dateForUser:function(){return _()(this.date,"dddd, dd mmm")}},methods:{routeToOrder:function(e){console.log(e),this.$router.push("/orders/"+e.id),this.$store.commit("setGlobalDate",this.date)}}},Me=Object(i.a)(Pe,Ce,[],!1,null,"8776ca52",null);function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){Ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Me.options.__file="assets/js/components/order/OrdersTable.vue";var Te={name:"Orders",components:{OrderCreate:xe,DatesBar:ee,OrdersTable:Me.exports},data:function(){return{localDate:(new Date).toISOString().substr(0,10),calendarMode:"day",compactMode:!1}},computed:Se(Se({},Object(m.b)("order",{orders:"getOrders",ordersWeek:"getOrdersWeek"})),{},{date:{get:function(){return this.globalDate?this.globalDate:this.localDate},set:function(e){console.log("GLOBAL DATE SET UP"),this.$store.commit("setGlobalDate",e)}},globalDate:function(){return this.$store.getters.getGlobalDate},dateForAPI:function(){return _()(this.date,"yyyy-mm-dd")},dateForUser:function(){return _()(this.date,"dddd, dd mmm")},isOrders:function(){return this.orders.length>0}}),methods:{showCalendar:function(){this.orders},dateChanged:function(e){console.log("EMIT CATHED",e);var t=e.date,n=e.mode;this.calendarMode=n,this.date=t,"week"===n?this.$store.dispatch("order/loadOrdersByWeek",this.dateForAPI):(console.log("EMIT CATHED  DAY MODE NOW MUST BE ACTTION"),this.$store.dispatch("order/loadOrdersByDate",t))}},beforeRouteEnter:function(e,t,n){n((function(e){e.$store.dispatch("order/loadOrdersByDate",e.dateForAPI)}))}},$e=(n("WUHh"),Object(i.a)(Te,ge,[],!1,null,"0e4cba38",null));$e.options.__file="assets/js/pages/Orders.vue";var Fe=$e.exports,Be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{attrs:{justify:"center"}},[n("v-container",[n("v-switch",{staticClass:"mx-4",attrs:{label:"Менеджер (вид)"},model:{value:e.isManager,callback:function(t){e.isManager=t},expression:"isManager"}})],1),e._v(" "),n("v-container",[n("v-card",[n("v-card-title",{staticClass:"blue-grey"},[n("span",[e._v("Заказ ID: "+e._s(e.order.order_id)+"  ")]),e._v(" "),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("span",e._g({},r),[n("v-icon",[e._v("fa-info-circle")])],1)]}}])},[e._v(" "),n("span",[e._v(e._s(e.tooltip))])]),e._v(" "),n("v-spacer"),e._v("\n                Дата: "+e._s(e.order.date)+"\n                 \n                Итого: "+e._s(e.order.total)+"грн.\n            ")],1),e._v(" "),n("v-card-text",[e.dishes?n("v-data-table",{staticClass:"elevation-1",attrs:{"disable-pagination":"","disable-sort":"","disable-filtering":"","hide-default-footer":"",headers:e.headers,items:e.dishes,locale:"ru"}}):e._e()],1),e._v(" "),n("v-card-actions",[n("v-btn",{attrs:{color:"blue"},on:{click:function(t){e.confirmDialog=!0}}},[n("router-link",{attrs:{tag:"span",to:{name:"orders"}}},[e._v("< Заказы")])],1),e._v(" "),n("v-spacer"),e._v(" "),e.isManager?n("v-btn",{attrs:{color:"red"},on:{click:function(t){e.confirmDialog=!0}}},[e._v("Удалить")]):e._e(),e._v(" "),"canceled"!==e.order.status?[e.isManager?e._e():n("v-btn",{attrs:{color:"red"},on:{click:function(t){return e.cancelOrder()}}},[e._v("Отменить заказ")])]:[n("v-btn",{attrs:{disabled:""}},[e._v("Заказ отменен")])],e._v(" "),n("v-btn",{attrs:{color:"orange"},on:{click:function(t){e.editingMode=!0}}},[n("router-link",{attrs:{tag:"span",to:{name:"orders#edit"}}},[e._v("Изменить заказ")])],1),e._v(" "),e.isManager?n("v-btn",{attrs:{color:"teal"}},[e._v("Изменить статус")]):e._e()],2)],1)],1),e._v(" "),n("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.confirmDialog,callback:function(t){e.confirmDialog=t},expression:"confirmDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Уверены что хотите удалить заказ?")]),e._v(" "),n("v-card-text",[e._v("Возможно вы можете изменить статус заказа. Это действие нельзя отменить")]),e._v(" "),n("v-card-actions",[n("v-btn",{attrs:{color:"green darken-1"},on:{click:function(t){return e.confirmDelete(!1)}}},[e._v("Передумал")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"red darken-1"},on:{click:function(t){return e.confirmDelete(!0)}}},[e._v("Конечно")])],1)],1)],1),e._v(" "),n("loading",{attrs:{dialog:e.loading}})],1)};Be._withStripped=!0;var Ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",{attrs:{color:"teal",dark:""}},[n("v-card-text",[e._v("\n            Пожалуйста подождите\n            "),n("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)};Ae._withStripped=!0;var Re={name:"Loading",props:["dialog"],data:function(){return{}}},We=Object(i.a)(Re,Ae,[],!1,null,"64e22916",null);function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){He(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}We.options.__file="assets/js/components/dialog/Loading.vue";var Ge={name:"OrderRead",components:{Loading:We.exports},data:function(){return{isManager:!1,confirmDialog:!1,confirmDialogData:{question:"",text:""},loading:!1,headers:[{text:"Название",value:"title"},{text:"Цена",value:"price"},{text:"Кол-во",value:"cnt"},{text:"Сумма",value:"summ"}]}},computed:Ne(Ne({},Object(m.b)("order",{order:"getOrder"})),{},{created:function(){return _()(this.order.created,"dddd, dd mmm HH:MM")},updated:function(){return _()(this.order.updated,"dddd, dd mmm HH:MM")},tooltip:function(){return this.created===this.updated?"Создан: ".concat(this.created):"Обновлен: ".concat(this.updated)},dishes:function(){return ye(this.order.dishes)}}),methods:{loadOrder:function(){this.$store.dispatch("order/loadOrderById",this.$route.params.id)},confirmDelete:function(e){this.confirmDialog=!0,e?(this.loading=!0,this.deleteOrder()):this.confirmDialog=!1},deleteOrder:function(){this.$store.dispatch("order/deleteOrder",this.order.order_id).then(this.loading=!1).then(this.$router.push({name:"orders"}))},cancelOrder:function(){var e={order_id:this.order.order_id,status:"canceled"};this.$store.dispatch("order/changeOrderStatus",e)}},beforeRouteEnter:function(e,t,n){console.log(t),n((function(e){e.loadOrder()}))}},Le=Object(i.a)(Ge,Be,[],!1,null,"b4073e1c",null);Le.options.__file="assets/js/components/order/OrderRead.vue";var ze=Le.exports,Ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{justify:"center"}},[n("v-divider"),e._v(" "),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-card",{staticClass:"mxauto mt-5 mb-5",attrs:{width:"100%"}},[n("v-card-title",[e._v(e._s(e.dateForUser))]),e._v(" "),e._l(e.menu.dishes,(function(t,r){return n("div",{key:r,staticClass:"alex-row"},[n("div",[e._v(e._s(t.title)+" "+e._s(t.price)+"грн.")]),e._v(" "),n("div",{staticClass:"alex-row-end"},[n("v-icon",{attrs:{color:"red "},on:{click:function(n){return e.minToOrdered(t.dish_id)}}},[e._v("fa-minus")]),e._v("\n                           \n                        "),n("v-icon",{attrs:{color:"green"},on:{click:function(t){return e.addToOrdered(r)}}},[e._v("fa-plus")])],1)])}))],2)],1),e._v(" "),e.orderTable?n("v-col",{attrs:{cols:"12",sm:"6"}},[n("div",{staticClass:"mxauto mt-5 mb-5"},[e.orderTable?n("v-data-table",{staticClass:"elevation-1",attrs:{"disable-pagination":"","disable-sort":"","disable-filtering":"","hide-default-footer":"",headers:e.headers,items:e.normalizeOrders,locale:"ru"}}):e._e(),e._v(" "),e.message?n("v-alert",{staticClass:"mt-3",attrs:{light:""}},[e._v(e._s(e.message)+"\n                ")]):e._e()],1),e._v(" "),n("v-row",{attrs:{justify:"space-between"}},[n("v-col",{staticClass:"grow title text-right"},[e._v("Полная стоимость: "+e._s(e.totalSum)+" грн.")])],1)],1):e._e()],1),e._v(" "),n("v-divider"),e._v(" "),n("v-row",{attrs:{justify:"space-between"}},[n("v-col",{staticClass:"shrink"},[n("v-btn",{attrs:{large:"",color:"green darken-2"}},[n("router-link",{attrs:{tag:"span",to:{name:"orders#read",params:{id:this.order.order_id}}}},[e._v("< Назад")])],1)],1),e._v(" "),n("v-col",{staticClass:"grow title"},[e._v("Со скидой: "+e._s(e.totalSum)+" грн.")]),e._v(" "),n("v-col",{staticClass:"shrink"},[n("v-btn",{attrs:{color:"blue",large:""},on:{click:function(t){e.showMessage=!0}}},[e._v("Сообщение")])],1),e._v(" "),n("v-col",{staticClass:"shrink"},[n("v-btn",{attrs:{color:"orange",large:""},on:{click:function(t){return e.updateOrder()}}},[e._v("Сохранить")])],1)],1),e._v(" "),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.showMessage,callback:function(t){e.showMessage=t},expression:"showMessage"}},[n("v-card",[n("v-card-title",[e._v("\n                Добавьте свои пожелания\n            ")]),e._v(" "),n("v-card-text",[n("v-textarea",{attrs:{solo:""},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1),e._v(" "),n("v-card-actions",[n("v-btn",{attrs:{color:"orange"},on:{click:function(t){return e.clearMessage()}}},[e._v("Отменить")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"teal"},on:{click:function(t){e.showMessage=!1}}},[e._v("Добавить сообщение")])],1)],1)],1),e._v(" "),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.orderSuccess,callback:function(t){e.orderSuccess=t},expression:"orderSuccess"}},[n("v-card",[n("v-app-bar",{attrs:{dark:"",color:"teal"}},[n("v-toolbar-title",[e._v("Приятного апетита !!!")])],1),e._v(" "),n("v-container",[n("v-card-text",{staticClass:"title"},[e._v("\n                    Заказ успешно обновлен\n                ")])],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"green darken-2"}},[n("router-link",{attrs:{tag:"span",to:{name:"orders#read",params:{id:this.order.order_id}}}},[e._v("OK\n                    ")])],1)],1)],1)],1)],1)};function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ke._withStripped=!0;var Qe={name:"OrderEdit",data:function(){return{orderSuccess:!1,showMessage:!1,calendar:!1,message:"",headers:[{text:"Название",value:"title"},{text:"Цена",value:"price"},{text:"Кол-во",value:"cnt"},{text:"Сумма",value:"summ"}]}},computed:Ze(Ze(Ze({},Object(m.b)("menu",{menu:"getMenu"})),Object(m.b)("order",{order:"getOrder"})),{},{orderedDishes:function(){if(this.order)return this.order.dishes},dateForUser:function(){return _()(this.order.date,"dddd, dd mmm")},normalizeOrders:function(){return ye(this.orderedDishes)},orderTable:function(){return this.normalizeOrders.length>0},totalSum:function(){return this.normalizeOrders.reduce((function(e,t){return e+t.summ}),0)},dishes:function(){return this.orderedDishes.map((function(e){return e.dish_id}))}}),methods:{addToOrdered:function(e){this.orderedDishes.push(this.menu.dishes[e])},minToOrdered:function(e){var t=this.orderedDishes.findIndex((function(t){return t.dish_id===e}));-1!==t&&this.orderedDishes.splice(t,1)},loadMenu:function(){this.$store.dispatch("menu/loadMenuByDate",this.order.date)},changeDate:function(){console.log("changeDate  WORKING"),this.calendar=!1},updateOrder:function(){var e=this;if(this.orderedDishes.map((function(e){return e.dish_id})).length<1)return alert("Вы не выбрали ни одного блюда!"),!1;var t={order_id:this.order.order_id,total:this.totalSum,status:"changed",dishes:this.dishes};this.$store.dispatch("order/updateOrder",t).then((function(t){console.log(t),e.orderID=t,e.orderSuccess=!0}))},clearMessage:function(){this.message="",this.showMessage=!1}},beforeRouteEnter:function(e,t,n){console.log("ORDER EDITING ROUTING"),console.log("ORDER TO",e),n((function(t){t.$store.dispatch("order/editOrder",e.params.id)}))}},Xe=(n("uCCE"),Object(i.a)(Qe,Ke,[],!1,null,"392f1b66",null));Xe.options.__file="assets/js/components/order/OrderEdit.vue";var Ye=Xe.exports,Ve=function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n    sdfdf\n")])};function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ve._withStripped=!0;var nt={name:"Company",data:function(){return{}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(m.b)("company",{companies:"getCompanies"})),beforeRouteEnter:function(e,t,n){n((function(e){e.$store.dispatch("company/loadCompanies")}))}},rt=Object(i.a)(nt,Ve,[],!1,null,"08f8b0ba",null);rt.options.__file="assets/js/pages/Company.vue";var at=rt.exports,st=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-simple-table",[n("thead",[n("tr",[n("th",[e._v("№ Заказа")]),e._v(" "),n("th",[e._v("Person")]),e._v(" "),n("th",[e._v("Status")]),e._v(" "),n("th")])]),e._v(" "),n("tbody",e._l(e.orders,(function(t,r){return n("tr",{key:t.order_id},[n("td",[e._v(e._s(t.order_id))]),e._v(" "),n("td",[e._v(e._s(r))]),e._v(" "),n("td",[e._v(e._s(t.status))]),e._v(" "),n("td",[n("v-btn",{attrs:{text:"",color:"orange"},on:{click:function(n){return e.goToActiveOrder(r,t.order_id)}}},["packed"===t.status?n("span",{staticClass:"green--text"},[e._v("Упаковано")]):n("span",{staticClass:"orange--text"},[e._v("Упаковать")])])],1)])})),0)]),e._v(" "),n("v-row",[n("v-col",{staticClass:"shrink"},[n("v-btn",{attrs:{color:"blue"}},[n("router-link",{attrs:{tag:"span",to:{name:"delivery"}}},[e._v("< Все доставки")])],1)],1)],1),e._v(" "),n("v-dialog",{model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[n("delivery-dishes",{attrs:{date:e.date,order:e.order,dishes:e.dishes},on:{closeModal:e.closeModal}})],1)],1)};st._withStripped=!0;var ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",[e._v("\n        Заказ № "+e._s(e.order.order_id)+"\n    ")]),e._v(" "),n("v-simple-table",[n("thead",[n("tr",[n("th",[e._v("Блюдо")]),e._v(" "),n("th",[e._v("Кол-во")])])]),e._v(" "),n("tbody",e._l(e.dishes,(function(t){return n("tr",{key:t.dish_id},[n("td",[e._v(e._s(t.title))]),e._v(" "),n("td",[e._v(e._s(t.counters[t.dish_id]))])])})),0)]),e._v(" "),n("v-card-actions",[n("v-btn",{attrs:{color:"orange"},on:{click:function(t){return e.closeModal()}}},[e._v("Отменить")]),e._v(" "),n("v-spacer"),e._v(" "),e.isPacked?n("v-btn",{attrs:{color:"red"},on:{click:e.packedCanceled}},[e._v("\n            Отменить упаковку\n        ")]):n("v-btn",{attrs:{color:"green"},on:{click:function(t){return e.packed()}}},[e._v("\n            Спаковать\n        ")])],1)],1)};ot._withStripped=!0;var it={name:"DeliveryDishes",props:["date","order","dishes"],data:function(){return{}},computed:{isPacked:function(){return"packed"===this.order.status},orderId:function(){return this.order.order_id}},methods:{packed:function(){var e=this,t={order_id:this.orderId,status:"packed"};this.$store.dispatch("order/changeOrderStatus",t).then((function(t){e.order.status=t,e.closeModal()}))},packedCanceled:function(){var e=this,t={order_id:this.order.order_id,status:"packed_canceled"};this.$store.dispatch("order/changeOrderStatus",t).then((function(t){e.order.status=t,e.closeModal()})).then()},closeModal:function(){this.$emit("closeModal")}}},ct=Object(i.a)(it,ot,[],!1,null,"67934ff4",null);function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ct.options.__file="assets/js/components/delivery/DeliveryDishes.vue";var vt={name:"DeliveryRead",components:{DeliveryDishes:ct.exports},data:function(){return{date:(new Date).toISOString().substr(0,10),orderIndex:!1,modal:!1}},computed:lt(lt({},Object(m.b)("delivery",{orders:"getOrdersByCompany"})),{},{dateForUser:function(){return _()(this.date,"ddd, dd mmm")},dateForAPI:function(){return _()(this.date,"yyyy-mm-dd")},order:function(){return this.orders[this.orderIndex]},dishes:function(){return this.$store.getters["delivery/getDishes"]}}),methods:{goToActiveOrder:function(e,t){console.log("GO ACTIVE ORDER"),this.orderIndex=e,this.$store.dispatch("delivery/loadDishesByOrder",t).then(this.modal=!0)},closeModal:function(){this.modal=!1}},beforeRouteEnter:function(e,t,n){n((function(t){var n={company_id:e.params.company,date:t.dateForAPI};t.$store.dispatch("delivery/loadOrdersByCompanyAndDate",n)}))}},ht=Object(i.a)(vt,st,[],!1,null,"9e959f58",null);ht.options.__file="assets/js/components/delivery/DeliveryRead.vue";var ft=ht.exports;r.default.use(a.a);var mt=new a.a({routes:[{path:"/",name:"home",component:d},{path:"/week",name:"week",component:N},{path:"/kitchen",name:"kitchen",component:oe},{path:"/money",name:"money",component:_e},{path:"/dish",name:"dish",component:f},{path:"/menus/:date",name:"menu",component:x,children:[{path:"dishes",name:"dishes",component:f}]},{path:"/orders",name:"orders",component:Fe},{path:"/orders/create",name:"orders#create",component:xe},{path:"/orders/:id/edit",name:"orders#edit",component:Ye},{path:"/orders/:id",name:"orders#read",component:ze},{path:"/companies",name:"companies",component:at},{path:"/delivery",name:"delivery",component:he},{path:"/delivery/:company",name:"delivery#by_company",component:ft}]}),pt=function(){var e=this.$createElement,t=this._self._c||e;return t("v-app",{attrs:{id:"inspire"}},[t("header-components"),this._v(" "),t("content-components",[t("router-view")],1),this._v(" "),t("v-footer",{attrs:{app:""}},[t("span",[this._v("© 2020")])])],1)};pt._withStripped=!0;var _t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[n("v-navigation-drawer",{attrs:{app:"",clipped:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{link:""}},[n("v-list-item-action",[n("v-icon",[e._v("fa-home")])],1),e._v(" "),n("v-list-item-content",[n("v-list-item-title",[n("router-link",{attrs:{to:{name:"home"}}},[e._v("Главная")])],1)],1)],1),e._v(" "),n("v-list-item",{attrs:{link:""}},[n("v-list-item-action",[n("v-icon",[e._v("fa-calendar-alt")])],1),e._v(" "),n("v-list-item-content",[n("v-list-item-title",[n("router-link",{attrs:{to:{name:"week"}}},[e._v("Меню на неделю")])],1)],1)],1),e._v(" "),n("v-list-item",{attrs:{link:""}},[n("v-list-item-action",[n("v-icon",[e._v("fa-flask")])],1),e._v(" "),n("v-list-item-content",[n("v-list-item-title",[n("router-link",{attrs:{to:{name:"kitchen"}}},[e._v("Кухня")])],1)],1)],1),e._v(" "),n("v-list-item",{attrs:{link:""}},[n("v-list-item-action",[n("v-icon",[e._v("fa-truck")])],1),e._v(" "),n("v-list-item-content",[n("v-list-item-title",[n("router-link",{attrs:{to:{name:"delivery"}}},[e._v("Отправка")])],1)],1)],1),e._v(" "),n("v-list-item",{attrs:{link:""}},[n("v-list-item-action",[n("v-icon",[e._v("fa-address-book")])],1),e._v(" "),n("v-list-item-content",[n("v-list-item-title",[n("router-link",{attrs:{to:{name:"orders"}}},[e._v("Заказы")])],1)],1)],1),e._v(" "),n("v-list-item",{attrs:{link:""}},[n("v-list-item-action",[n("v-icon",[e._v("fa-coins")])],1),e._v(" "),n("v-list-item-content",[n("v-list-item-title",[n("router-link",{attrs:{to:{name:"money"}}},[e._v("Финансы")])],1)],1)],1),e._v(" "),n("v-list-item",{attrs:{link:""}},[n("v-list-item-action",[n("v-icon",[e._v("fa-coins")])],1),e._v(" "),n("v-list-item-content",[n("v-list-item-title",[n("router-link",{attrs:{to:{name:"companies"}}},[e._v("Клиенты")])],1)],1)],1)],1)],1),e._v(" "),n("v-app-bar",{attrs:{app:"","clipped-left":""}},[n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),e._v(" "),n("v-toolbar-title",[e._v("ВИШНЕВИЙ САД")]),e._v(" "),n("v-spacer"),e._v(" "),n("user-component")],1)],1)};_t._withStripped=!0;var gt=function(){var e=this.$createElement,t=this._self._c||e;return t("div",[this.isAuth?[t("v-list-item",{attrs:{link:""}},[t("v-list-item-action",[this._v("\n                Мама Олега\n            ")]),this._v(" "),t("v-list-item-content",[t("v-icon",[this._v("fa-sign-out-alt")])],1)],1)]:[t("v-list-item",{attrs:{link:""}},[t("v-list-item-action",[this._v("\n                Войти\n            ")]),this._v(" "),t("v-list-item-content",[t("v-icon",[this._v("fa-sign-in-alt")])],1)],1)]],2)};gt._withStripped=!0;var bt={name:"User",data:function(){return{isAuth:!0}}},yt=Object(i.a)(bt,gt,[],!1,null,"59ddb1ec",null);yt.options.__file="assets/js/components/User.vue";var Ot={name:"Header",components:{"user-component":yt.exports},data:function(){return{drawer:null}}},wt=Object(i.a)(Ot,_t,[],!1,null,"6a6f1c0a",null);wt.options.__file="assets/js/layouts/Header.vue";var Dt=wt.exports,kt=function(){var e=this.$createElement,t=this._self._c||e;return t("v-content",[t("router-view")],1)};kt._withStripped=!0;var jt={name:"Content",data:function(){return{drawer:null}}},xt=Object(i.a)(jt,kt,[],!1,null,"331f81fb",null);xt.options.__file="assets/js/layouts/Content.vue";var Ct={name:"App",components:{"header-components":Dt,"content-components":xt.exports},props:{source:String},data:function(){return{drawer:null}},created:function(){this.$vuetify.theme.dark=!0}},Pt=Object(i.a)(Ct,pt,[],!1,null,"1d8190f0",null);Pt.options.__file="assets/js/views/App.vue";var Mt=Pt.exports,Et=n("zlta"),St=n.n(Et);n("v0CA");r.default.use(St.a);var It=new St.a({icons:{iconfont:"fa"},theme:{dark:!0,default:"light",disable:!1,themes:{light:{primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},dark:{primary:"#E8C300",secondary:"#424242",accent:"#FF4081",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"}}}});n("07d7"),n("5s+n"),n("ls82");function Tt(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function $t(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){Tt(s,r,a,o,i,"next",e)}function i(e){Tt(s,r,a,o,i,"throw",e)}o(void 0)}))}}var Ft={namespaced:!0,state:{menus:[],menu:{},selectedDate:new Date,isClosed:!1},getters:{getMenus:function(e){return e.menus},getMenu:function(e){return e.menu},getStatus:function(e){return e.isClosed},getSelectedDate:function(e){return e.selectedDate}},mutations:{addMenus:function(e,t){e.menus=t},addMenu:function(e,t){e.menu=t},addIdToMenu:function(e,t){console.log("try update MENU_ID",t),e.menu.menu_id=t},addEmptyDish:function(e,t){console.log(e),e.menu.dishes.push(t)},setSelectedDate:function(e,t){e.selectedDate=t}},actions:{loadMenuByDate:function(e,t){var n=e.commit;console.log(t),S.a.get("/menus/date/"+t).then((function(e){200===e.status&&(console.log(e.data),n("addMenu",e.data))})).catch((function(e){return console.log(e)}))},loadMenuById:function(e,t){return $t(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,n.next=4,S.a.get("/dishes/menu/"+t).then((function(e){200===e.status&&(console.log(e.data),r("addMenu",e.data))})).catch((function(e){return console.log(e)}));case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(1),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[1,6]])})))()},getMenuIdByDate:function(e,t){return function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e),console.log(t),new Promise((function(e,n){S.a.get("/menus/id/"+t).then((function(t){console.log(t),200===t.status&&e(t.data),n(t)})).catch((function(e){console.log(e)}))}))},loadDishesIntoMenuByDate:function(e,t){return $t(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,n.next=4,S.a.get("/dishes/date/"+t.date).then((function(e){console.log("payload DATE ",t.date);e.data;console.log("response DATE ",e.data),r("addMenu",e.data)}));case 4:n.sent,n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[1,7]])})))()},loadMenuTable:function(e,t){return $t(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.commit,console.log(t),n.prev=2,n.next=5,S.a.get("/menus/table/"+t).then((function(e){if(200===e.status){var t=JSON.parse(e.data),n=Object.keys(t).map((function(e){return t[e][e]}));r("addMenus",n)}})).catch((function(e){console.log(e)}));case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[2,7]])})))()},addEmptyDishToMenu:function(e){return $t(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.commit,r=e.getters,a={price:null,title:null,weight:null,type:null},t.abrupt("return",new Promise((function(e,t){n("addEmptyDish",a),e(r.getMenu.dishes.length-1)})));case 3:case"end":return t.stop()}}),t)})))()}}},Bt={namespaced:!0,state:{dishes:[],editingMode:!1},getters:{getDishes:function(e){return e.dishes},getEditingMode:function(e){return e.editingMode}},mutations:{setDishes:function(e,t){e.dishes=t},loadDishesToMenu:function(e,t){Ft.state.menu.dishes.push(t)},enableEditingMode:function(e){e.editingMode=!0}},actions:{createDish:function(e,t){e.commit;return new Promise((function(e,n){S.a.post("/dishes/",t).then((function(t){e(t)}),(function(e){n(e)}))}))},updateDish:function(e,t){e.commit;return new Promise((function(e,n){S.a.patch("/dishes/"+t.dish_id,t).then((function(t){e(t)}),(function(e){n(e)}))}))},deleteDish:function(e,t){e.commit;return console.log(t,"DELETE DISH"),S.a.delete("/dishes/"+t).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))}}},At=void 0,Rt={namespaced:!0,state:{order:{},orders:[],ordersWeek:[]},getters:{getOrder:function(e){return e.order},getOrders:function(e){return e.orders},getOrdersWeek:function(e){return e.ordersWeek}},mutations:{addOrders:function(e,t){e.orders=t},addOrdersWeek:function(e,t){e.ordersWeek=t},addOrder:function(e,t){e.order=t},deleteOrder:function(e){At.order=!1},setOrderStatus:function(e,t){e.order.hasOwnProperty("status")?e.order.status=t:console.log("в сторе на данный момент, нет такого order, ORDER.JS 39 строка модуль стора")}},actions:{loadOrdersByDate:function(e,t){var n=e.commit;console.log(t),new Promise((function(e,r){S.a.get("/orders/date/"+t).then((function(t){n("addOrders",t.data),e(t.data)}))}))},loadOrdersByWeek:function(e,t){var n=e.commit;new Promise((function(e,r){S.a.get("/orders/week/"+t).then((function(t){n("addOrdersWeek",t.data),e(t.data)}))}))},loadOrderById:function(e,t){var n=e.commit;console.log("ORDER ID:",t),new Promise((function(e,r){e(S.a.get("/orders/"+t).then((function(t){console.log(t),n("addOrder",t.data),e(t.data)}))),r(console.log(response))}))},createOrder:function(e,t){e.commit;return new Promise((function(e,n){S.a.post(" /orders/",t).then((function(t){e(t.data),n(t)}))}))},editOrder:function(e,t){var n=e.commit;S.a.get("/orders/"+t).then((function(e){return n("addOrder",e.data),e.data})).then((function(e){S.a.get("/menus/date/"+e.date).then((function(e){console.log("TEST -----------------------------"),200===e.status&&n("menu/addMenu",e.data,{root:!0})})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},updateOrder:function(e,t){e.commit;return new Promise((function(e,n){console.log(t),S.a.patch(" /orders/"+t.order_id,t).then((function(t){e(t.data),n(t)}))}))},deleteOrder:function(e,t){e.commit;return new Promise((function(e,n){S.a.delete("/orders/"+t).then((function(t){console.log(t),200===t.status&&e(t.data),n(t)}))}))},changeOrderStatus:function(e,t){e.commit;var n=t.order_id,r=t.status;return new Promise((function(e,t){S.a.patch("/orders/".concat(n,"/status"),r).then((function(n){200===n.status&&e(n.data),t(n)}))}))}}},Wt={namespaced:!0,state:{orders:[],dishes:[],dishesWeek:[],companies:[]},getters:{getOrders:function(e){return e.orders},getDishes:function(e){return e.dishes},getDishesWeek:function(e){return e.dishesWeek}},mutations:{addOrders:function(e,t){e.orders=t},addDishes:function(e,t){e.dishes=t},addDishesWeek:function(e,t){e.dishesWeek=t}},actions:{loadOrdersByDate:function(e,t){var n=e.commit;console.log(t),S.a.get("/orders/date/"+t).then((function(e){console.log(e),n("addOrders",e.data)})).catch((function(e){console.log(e)}))},loadDishesByDate:function(e,t){var n=e.commit;console.log(t),S.a.get("/stats/dishes/"+t).then((function(e){console.log(e),n("addDishes",e.data)})).catch((function(e){console.log(e)}))},loadDishesByWeek:function(e,t){var n=e.commit;console.log(t),S.a.get("/stats/dishes/week/"+t).then((function(e){console.log(e),n("addDishesWeek",e.data)})).catch((function(e){console.log(e)}))}}},Ut={namespaced:!0,state:{company:!1,companies:[]},getters:{getCompany:function(e){return e.company},getCompanies:function(e){return e.companies}},mutations:{setCompany:function(e,t){e.company=t},setCompanies:function(e,t){e.companies=t}},actions:{loadCompanies:function(e){var t=e.commit;S.a.get("/companies/").then((function(e){console.log(e),t("setCompanies",e.data)})).catch((function(e){console.log(e)}))}}},Nt={namespaced:!0,state:{dishes:[],allOrdersByDay:[],ordersByCompany:[]},getters:{getDishes:function(e){return e.dishes},getAllOrdersByDay:function(e){return e.allOrdersByDay},getOrdersByCompany:function(e){return e.ordersByCompany}},mutations:{setDishes:function(e,t){e.dishes=t},setAllOrdersByDay:function(e,t){e.allOrdersByDay=t},setOrdersByCompany:function(e,t){e.ordersByCompany=t}},actions:{loadDishesByOrder:function(e,t){var n=e.commit,r=t;return new Promise((function(e,t){S.a.get("/delivery/dishes/"+r).then((function(r){console.log(r),200===r.status&&(n("setDishes",r.data),e(r.data)),t((function(e){console.log(e)}))}))}))},loadAllOrdersByDay:function(e,t){var n=e.commit;S.a.get("/delivery/orders/"+t).then((function(e){console.log(e),200===e.status&&n("setAllOrdersByDay",e.data)}))},loadOrdersByCompanyAndDate:function(e,t){var n=e.commit,r=t.company_id,a=t.date;console.log(t),S.a.get("/delivery/company/".concat(r,"/").concat(a)).then((function(e){console.log(e),200===e.status&&n("setOrdersByCompany",e.data)}))}}};r.default.use(m.a);var Ht=new m.a.Store({state:{globalDate:!1},getters:{getGlobalDate:function(e){return e.globalDate}},mutations:{setGlobalDate:function(e,t){e.globalDate=t}},actions:{},modules:{dish:Bt,menu:Ft,order:Rt,reducer:Wt,company:Ut,delivery:Nt}}),Gt=(n("XENs"),new r.default({el:"#app",router:mt,store:Ht,render:function(e){return e(Mt)},vuetify:It}));t.default=Gt;console.log("Application was loaded")},nikA:function(e,t,n){},rvip:function(e,t,n){"use strict";var r=n("xQZG");n.n(r).a},uCCE:function(e,t,n){"use strict";var r=n("LTeM");n.n(r).a},xQZG:function(e,t,n){}},[["ng4s","runtime",0]]]);